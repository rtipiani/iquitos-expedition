---
const slides = [
    { image: "../../slide1.avif", title: "BIENVENIDOS A LA AMAZONÍA", buttonText: "Consultar Ahora" },
    { image: "../../slide2.avif", title: "MONOS Y AVES EN SU HABITAT", buttonText: "Consultar Ahora" },
    { image: "../../slide3.avif", title: "DESCUBRAMOS PACAYA SAMIRIA", buttonText: "Consultar Ahora" },
    { image: "../../slide4.avif", title: "EXPLOREMOS EL RÍO AMAZONAS", buttonText: "Consultar Ahora" },
    { image: "../../slide5.avif", title: "HELICONIA AMAZON LODGE", buttonText: "Consultar Ahora" },
    { image: "../../slide6.avif", title: "IRAPAY AMAZON LODGE", buttonText: "Consultar Ahora" }
];
---
<div class="relative w-screen h-screen overflow-hidden">
    <div id="slider" class="flex transition-transform duration-700 ease-in-out w-full h-full whitespace-nowrap">
        {slides.map((slide, index) => (
            <div class="w-full flex-shrink-0 h-full relative inline-block" data-slide={index}>
                <img src={slide.image} alt={slide.title} class="w-full h-full object-cover" loading="eager" />
                <div class="absolute inset-0 flex flex-col items-center justify-center text-white bg-black/40">
                    <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold mb-4 text-center px-4 leading-snug sm:leading-tight md:leading-normal max-w-[80%] sm:max-w-[60%] lg:max-w-[50%] whitespace-normal">
                        {slide.title}
                    </h2>
                    <a href="#" class="btn-primary">
                        {slide.buttonText}
                        <i class="fa-brands fa-whatsapp"></i>
                    </a>
                </div>
            </div>
        ))}
    </div>

    <button id="prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white p-3">
        <i class="fa-solid fa-chevron-left fa-2xl"></i>
    </button>
    <button id="next" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white p-3">
        <i class="fa-solid fa-chevron-right fa-2xl"></i>
    </button>
</div>

<script is:inline>
    window.onload = function () {
      const slider = document.getElementById("slider");
      const prev = document.getElementById("prev");
      const next = document.getElementById("next");
  
      if (!slider || !prev || !next) return;
  
      let index = 0;
      const slides = slider.children.length;
  
      function updateSlider() {
        slider.style.transform = `translateX(-${index * 100}%)`;
      }
  
      function nextSlide() {
        index = (index + 1) % slides;
        updateSlider();
      }
  
      function prevSlide() {
        index = (index - 1 + slides) % slides;
        updateSlider();
      }
  
      next.addEventListener("click", nextSlide);
      prev.addEventListener("click", prevSlide);
  
      setInterval(nextSlide, 4000);
    };
</script>