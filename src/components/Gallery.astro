---
const images = [
    "/gallery/gal-ie1.avif",
    "/gallery/gal-ie2.avif",
    "/gallery/gal-ie3.avif",
    "/gallery/gal-ie4.avif",
    "/gallery/gal-ie5.avif",
    "/gallery/gal-ie6.avif",
    "/gallery/gal-ie7.avif",
    "/gallery/gal-ie8.avif",
    "/gallery/gal-ie9.avif",
    "/gallery/gal-ie10.avif",
    "/gallery/gal-ie11.avif",
    "/gallery/gal-ie12.avif",
    "/gallery/gal-ie13.avif",
    "/gallery/gal-ie14.avif",
    "/gallery/gal-ie15.avif",
    "/gallery/gal-ie16.avif",
    "/gallery/gal-ie17.avif",
    "/gallery/gal-ie18.avif",
    "/gallery/gal-ie19.avif",
    "/gallery/gal-ie20.avif",
    "/gallery/gal-ie21.avif"
];
---
<section class="max-w-7xl mx-auto px-4 py-24">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pswp-gallery" id="my-gallery">
        {images.map((image, index) => (
            <a href={image} rel="noreferrer" aria-label="Imagen de Iquitos, Amazon Irapay, Cumaceba Lodge"
               class="shadow-sm" data-pswp-width="831"
               data-pswp-height="552">
                <div class="relative group cursor-pointer">
                    <img loading={index > 5 ? 'lazy' : 'eager'} src={image} alt="Irapay Amazon" 
                         class="object-cover object-top w-full h-full rounded-md" />
                    <p class="flex text-white backdrop-blur-md bg-black/40 text-2xl absolute font-bold w-full gap-2 items-center top-0 h-full justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                        </svg>
                        Iquitos Expedition
                    </p>
                </div>
            </a>
        ))}
    </div>
</section>

<script>
    import PhotoSwipeLightbox from 'photoswipe/lightbox';

    const lightbox = new PhotoSwipeLightbox({ gallery:   '#my-gallery', children: 'a', pswpModule: () => import('photoswipe')
    });
    lightbox.init();
</script>